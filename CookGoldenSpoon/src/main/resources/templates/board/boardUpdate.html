<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>자유 게시판 수정</title>
  <link rel="stylesheet" href="/css/board/boardWrite.css">
  <link rel="stylesheet" href="/css/common/project.css">
  <script src="https://kit.fontawesome.com/921e1d60a7.js" crossorigin="anonymous"></script>
</head>
<body>
  <th:block th:replace="~{common/header}"></th:block>
  <main>
    <form action="update" th:object="${board}" method="POST"  
      class="board-write" id="boardUpdateFrm" enctype="multipart/form-data">
      <div class="main-container">
        <h1 class="board-name" th:text="${boardName}">게시판 이름</h1>
        <!-- 제목 -->
        <h1 class="board-title">
          <input type="text" name="boardTitle" placeholder="제목을 입력해주세요" th:value="*{boardTitle}">
        </h1>
        <!-- 업로드 이미지 영역 -->
        <h5 class="board-image">사진 첨부</h5>
        <div class="img-box">

          <div class="boardImg">
            <label for="img0">
              <img class="preview" src="">
            </label>
            <input type="file" name="images" class="inputImg" id="img0" accept="image/*">
            <span class="delete-img">&times;</span>
          </div>
          <div class="boardImg">
            <label for="img1">
              <img class="preview" src="">
            </label>
            <input type="file" name="images" class="inputImg" id="img1" accept="image/*">
            <span class="delete-img">&times;</span>
          </div>
          <div class="boardImg">
            <label for="img2">
              <img class="preview" src="">
            </label>
            <input type="file" name="images" class="inputImg" id="img2" accept="image/*">
            <span class="delete-img">&times;</span>
          </div>
          <div class="boardImg">
            <label for="img3">
              <img class="preview" src="">
            </label>
            <input type="file" name="images" class="inputImg" id="img3" accept="image/*">
            <span class="delete-img">&times;</span>
          </div>
          <div class="boardImg">
            <label for="img4">
              <img class="preview" src="">
            </label>
            <input type="file" name="images" class="inputImg" id="img4" accept="image/*">
            <span class="delete-img">&times;</span>
          </div>
        </div>

        <!-- 내용 -->
        <div class="board-content">
          <textarea name="boardContent" placeholder="내용을 입력해주세요" th:text="*{boardContent}"></textarea>
        </div>

        <!-- 버튼 영역 -->
        <div class="board-btn-area">
          <button type="submit" id="writebtn">수정</button>
        </div>

        <input type="hidden" name="deleteOrder" value="">

        <input type="hidden" name="querystring">

      </div>
    </form>
  </main>

  <th:block th:replace="~{common/footer}"></th:block>

  <!-- 이미지 미리보기 설정 -->
  <script th:inline="javascript">
        
    const imageList = /*[[${board.imageList}]]*/ [];
        
    const previewList = document.querySelectorAll('img.preview');

    for(let img of imageList){
      previewList[img.boardImageOrder].src = img.boardImage + img.boardImageRename;
    }

  </script>

  <script src="/js/board/boardUpdate.js"></script>
  <script src="/js/common/project.js"></script>
</body>
</html>